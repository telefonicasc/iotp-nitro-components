
@card-width: 160px;
@card-height: 195px;
@card-flip-factor: 1.25;
@card-preview-factor: 0.75;
@card-header-height: 40px;

.card {

  font-family: Helvetica, Arial, sans-serif;

  .front, .back {
    width: @card-width;
    height: @card-height;
    box-shadow: 0px 2px 3px #AAA;
  }

  .front {

    position: absolute;

    .header {
      margin: 7px 7px 0px 7px;
      height: @card-header-height;
      color: white;

      h1 {
        text-align: center;
      }
    }
    .body {
      margin: 7px;
      position: absolute;
      top: @card-header-height;
      left: 0px;
      right: 0px;
      bottom: 0px;
    }
  }

  &.flippable {
    .front, .back {
      -webkit-transition: -webkit-transform 0.5s, width 0.5s, height 0.5s;
    }
  }

  &.flip {

    .front, .back {
      width: round(@card-width*@card-flip-factor);
      height: round(@card-height*@card-flip-factor);
    }
  }

  &.preview {
    -webkit-transform: scale(@card-preview-factor);
  }
}

.m2m-card-condition .front {
    background-color: white;
    box-shadow: 0px 2px 3px #AAA;
    .header {
      background-color: #64737b;
      color: white;
      h1 {
        padding-top: 13px;
      }
    }
    .body {
      background-color: #dde6e9;
    }
}

.m2m-card-action .front {
    background: #2d3539;
    border-radius: 13px;

    .header {
      h1 {
        padding-top: 5px;
        color:white;
        font-size: 0.9em;
      }
    }
}

.card.m2m-card-send-email.flip .back{
  width: 487px;
  height: 448px;
  margin-top: -143px;
  margin-left: -180px;
  box-shadow: #A1A1A1 0px 0px 11px;
  border:5px solid #77868E;
  .border-radius(25px, 25px, 25px, 25px);



  .header{
    display: none;
  }

  .card-body{
    background-color: white;
    border-bottom-left-radius: 15px;
    border-bottom-right-radius: 15px;
  }
  .card-header {
    background-color: #E6EDF0;
    margin:10px 6px;
    display: block;
    label, input {
      display: block;
    }
    label {
      color: #8C9193;
      font-size: 12px;
      font-weight: 800;
    }
    input{
      border:0;
      background: transparent;
      border-bottom: 1px dotted #C1BCA4;
      width: 472px;
      margin-top: 5px;
    }
    .email-subject{
      font-size: 1.6em;
    }
    .email-address{
      font-size: 1.2em;
      color:gray;
    }
  }
  .card-body{
    padding: 0 6px;
    background: #fff;
    textarea{
      width: 472px;
      height: 221px;
      color: #4C4C4C;
      border: 0;
      font-size: 20px;
      resize: none;
    }
  }
  .token{
    cursor: pointer;
    margin: 12px 6px 0px 12px;
    min-width: 125px;
    height: 18px;
    padding: 8px;
    color: #788D9A;
    display: inline-block;
    font-size: 16px;
    background-color: #BFDDF2;
    .border-radius(27px, 27px, 27px, 27px);
    text-align: center;
  }
  .token-selector {
    border-top:1px solid #a0a0a0;
  }
}

.start-card {
  height: 84px;
  width: 84px;
  background-color: #77868E;
  border: 8px solid white;
  border-radius: 85px;
  box-shadow: 0 0 8px #979797;
  margin-left: -42px;
  margin-top: -42px;
}

.card-placeholder {
  border: 3px dashed #AAA;
  width: 160px;
  height: 120px;
  margin-left: -80px;
  margin-top: -60px;
  border-radius: 13px;
}

.action-card {

}

.card-toolbox {

  .card {
    float: left;
    width: @card-width;
    height: @card-height;
  }
}

.graph-editor {
  background-image: url("@{image-path}/ruleback.png");
}

.node-container {
  .start-card, .card-placeholder, .card {
    position: absolute;
  }

  .card {
    margin-left: 0-round(@card-width/2);
    margin-top: 0-round(@card-height/2);
  }
}

.card.ui-draggable-dragging {
    margin-left: 0-round(@card-width/2);
    margin-top: 0-round(@card-height/2);
}
